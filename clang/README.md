# Autoglue Clang Backend

This backend is used to generate a simplified hierarchy from a Clang provided AST.
Right now it can be used to generate a simplified hierarchy for a C++ project.

## Usage:

Make sure that you have clang and LLVM installed.

On Arch Linux:
```
sudo pacman -S clang llvm
```

Make sure that Autoglue is built with Clang support.
While in the Autoglue root, execute:

```
python3 build.py --clang-backend
```

To add the Clang backend to your project, Add the following to your `CMakeLists.txt`:
```cmake
# If not installed system-wide, point to the install prefix.
set(CMAKE_PREFIX_PATH "/path/to/prefix/cmake/Autoglue")

...

find_package(Autoglue REQUIRED)

...

target_link_libraries(YourTarget
    Autoglue::Autoglue
    Autoglue::Clang::Backend
)
```

In your code:
```cpp
#include <autoglue/clang/Backend.hh>
#include <autoglue/clang/GlueGenerator.hh>

int main()
{
    // The Clang backend requires a compilation database 
    // in order for Clang to know how any given file
    // should be compiled.
    // For example, a compilation database can be generated by
    // setting the CMAKE_EXPORT_COMPILE_COMANDS option to ON
    // in CMake.
    ag::clang::Backend backend("/path/to/compilation/database");

    // Try to generate the simplified hierarchy.
    if(!backend.generateHierarchy())
    {
        return 1;
    }

    // Invoke some BindingGenerator.
    // The glue code will be implicitly generated
    // upon the first generator call.
}
```